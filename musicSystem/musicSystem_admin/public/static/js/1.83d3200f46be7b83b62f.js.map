{"version":3,"sources":["webpack:///src/components/mainPage.vue","webpack:///./src/components/mainPage.vue?e5d6","webpack:///./src/components/mainPage.vue"],"names":["mainPage","data","aa","this","active","test","checked","defaultVal","isPlay","precentIndex","songList","url","logoImg","imginfo","song","singer","activeNames","isOther","computed","precentSong","iconName","created","_this","userId","$route","params","id","Object","query","then","res","catch","err","console","log","mounted","audio","$refs","audioRef","methods","clickSong","index","currentTime","setTimeout","toPlaySong","onChange","ratio","duration","play","nextSong","length","lastSong","_this2","intervalTime","setInterval","pause","clearInterval","backtome","$router","push","name","components_mainPage","render","_vm","_h","$createElement","_c","_self","staticStyle","width","attrs","type","_v","staticClass","autoplay","indicator-color","height","src","alt","margin","gutter","justify","text-align","span","size","on","click","model","value","callback","$$v","expression","change","padding-bottom","title","_l","item","key","class","activeCard","desc","thumb","$event","ref","_e","staticRenderFns","Component","__webpack_require__","normalizeComponent","ssrContext","__webpack_exports__"],"mappings":"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","file":"static/js/1.83d3200f46be7b83b62f.js","sourcesContent":["<template>\n  <div>\n    <van-sticky>\n    <van-button type=\"info\" style=\"width: 100%;\">音乐之声</van-button>\n    </van-sticky>\n\n    <van-swipe class=\"my-swipe\" :autoplay=\"3000\" indicator-color=\"white\">\n      <van-swipe-item >\n        <img :src=\"songList[precentIndex].imginfo\" alt=\"\" style=\"height: 150px\">\n      </van-swipe-item>\n    </van-swipe>\n\n    <van-row gutter=\"30\" type=\"flex\" justify=\"center\" style=\"margin: 10px\">\n      <van-col span=\"8\" style=\"text-align: right\">\n        <van-icon name=\"arrow-left\" size=\"40\" @click=\"lastSong\"/>\n      </van-col>\n      <van-col span=\"8\" style=\"text-align: center\" class=\"switchBox\">\n        <van-switch v-model=\"checked\" size=\"31px\" @click=\"toPlaySong\"/>\n        <van-icon :name=\"iconName\" />\n      </van-col>\n      <van-col span=\"8\">\n        <van-icon name=\"arrow\" size=\"40\" @click=\"nextSong\"/>\n      </van-col>\n    </van-row>\n\n    <van-slider v-model=\"defaultVal\" @change=\"onChange\" style=\"margin: 20px 0\"/>\n\n    <van-collapse v-model=\"activeNames\" style=\"padding-bottom: 50px\">\n      <van-collapse-item title=\"歌曲列表\" name=\"1\">\n        <van-card\n          :desc=\"'原唱：'+item.singer\"\n          :title=\"item.song\"\n          :thumb=\"songList[index].imginfo\"\n          v-for=\"(item,index) in songList\"\n          :key=\"index\"\n          @click=\"clickSong(index)\"\n          :class=\"{activeCard:precentIndex===index}\"\n        />\n      </van-collapse-item>\n    </van-collapse>\n\n    <audio :src=\"precentSong\" ref=\"audioRef\">\n      当前浏览器不支持audio\n    </audio>\n    <div class=\"backtome\" v-if=\"isOther\" @click=\"backtome\">\n      分享列表\n      <van-icon name=\"https://b.yzcdn.cn/vant/icon-demo-1126.png\" size=\"30\"/>\n    </div>\n  </div>\n</template>\n<script>\nimport {getMySong,PublicUserSong} from \"../utils/query\";\n\nexport default {\n  data() {\n    return {\n      aa:this.active,\n      test:0,\n      active: 0,\n      checked: false,\n      defaultVal: 0,\n      isPlay:false,\n      precentIndex:0,\n      songList:[{\n        url:\"\",\n        logoImg: \"\",\n        imginfo: \"\",\n        song:\"\",\n        singer: \"\"\n      }],\n      activeNames: ['1'],\n      isOther:false\n    }\n  },\n\n  computed:{\n    precentSong(){\n      return this.songList[this.precentIndex].url;\n    },\n    iconName(){\n      return this.checked===true?\"pause\":\"play\";\n    },\n  },\n  created() {\n    this.userId=this.$route.params.id;\n    if(this.userId){\n      this.isOther=true\n      PublicUserSong(this.userId).then(res=>{\n        this.songList=res.data;\n      }).catch(err=>{\n        console.log(err);\n      })\n    }else{\n      getMySong().then(res=>{\n        this.songList=res.data;\n        console.log(this.songList)\n      }).catch(err=>{\n        console.log(err);\n      })\n    }\n  },\n\n  mounted() {\n    this.audio=this.$refs.audioRef;\n\n  },\n\n  methods:{\n    clickSong(index){\n      this.precentIndex=index\n      this.isPlay=false;\n      this.checked=false;\n      this.audio.currentTime=0;\n      setTimeout(this.toPlaySong,150)\n    },\n    onChange(index) {\n      this.checked=true;\n      let ratio=this.audio.duration*(index/100);\n      this.audio.currentTime=ratio;\n      this.audio.play();\n      this.isPlay=true;\n    },\n    nextSong(){\n      if(this.precentIndex<this.songList.length) {\n        this.precentIndex++;\n        this.isPlay=false;\n        this.checked=false;\n        this.audio.currentTime=0;\n      }\n    },\n    lastSong(){\n      if(this.precentIndex>0){\n        this.precentIndex--;\n        this.checked=false;\n        this.isPlay=false;\n        this.audio.currentTime=0;\n        }\n    },\n    toPlaySong(){\n      this.checked=!this.checked;\n      this.isPlay=!this.isPlay;\n      let intervalTime;\n      if(this.isPlay){\n        this.audio.play();\n        intervalTime=setInterval(()=>{\n          this.defaultVal=this.audio.currentTime/this.audio.duration*100\n        },500);\n      }else {\n        this.audio.pause();\n        clearInterval(intervalTime);\n      }\n    },\n    backtome(){\n      this.$router.push({\n        name:\"share\"\n      })\n      // this.$router.push({\n      //   name:\"home\"\n      // })\n    }\n  }\n};\n</script>\n<style scoped>\n.todo-container li {\n  border: solid 1px white;\n  background-color: beige;\n  margin-top: 1em;\n  padding: .2em;\n}\n.activeCard{\n  border: #666666 1px solid;\n}\n.main{\n  font-size: .7em;\n}\n.van-badge{\n  font-size: 1.5em;\n}\n.my-swipe .van-swipe-item {\n  color: #fff;\n  font-size: 20px;\n  line-height: 150px;\n  text-align: center;\n  background-color: #39a9ed;\n}\n.switchBox{\n  display: flex;\n  align-items: center;\n  justify-content: center;\n}\n.backtome{\n  position: fixed;\n  bottom: 300px;\n  right: 0;\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  font-size: 12px;\n  text-align: center;\n  border: #666666 1px solid;\n  border-radius: 50px;\n  height: 60px;\n  width: 60px;\n  background-color: #ff5777;\n  opacity: .5;\n}\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/components/mainPage.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('van-sticky',[_c('van-button',{staticStyle:{\"width\":\"100%\"},attrs:{\"type\":\"info\"}},[_vm._v(\"音乐之声\")])],1),_vm._v(\" \"),_c('van-swipe',{staticClass:\"my-swipe\",attrs:{\"autoplay\":3000,\"indicator-color\":\"white\"}},[_c('van-swipe-item',[_c('img',{staticStyle:{\"height\":\"150px\"},attrs:{\"src\":_vm.songList[_vm.precentIndex].imginfo,\"alt\":\"\"}})])],1),_vm._v(\" \"),_c('van-row',{staticStyle:{\"margin\":\"10px\"},attrs:{\"gutter\":\"30\",\"type\":\"flex\",\"justify\":\"center\"}},[_c('van-col',{staticStyle:{\"text-align\":\"right\"},attrs:{\"span\":\"8\"}},[_c('van-icon',{attrs:{\"name\":\"arrow-left\",\"size\":\"40\"},on:{\"click\":_vm.lastSong}})],1),_vm._v(\" \"),_c('van-col',{staticClass:\"switchBox\",staticStyle:{\"text-align\":\"center\"},attrs:{\"span\":\"8\"}},[_c('van-switch',{attrs:{\"size\":\"31px\"},on:{\"click\":_vm.toPlaySong},model:{value:(_vm.checked),callback:function ($$v) {_vm.checked=$$v},expression:\"checked\"}}),_vm._v(\" \"),_c('van-icon',{attrs:{\"name\":_vm.iconName}})],1),_vm._v(\" \"),_c('van-col',{attrs:{\"span\":\"8\"}},[_c('van-icon',{attrs:{\"name\":\"arrow\",\"size\":\"40\"},on:{\"click\":_vm.nextSong}})],1)],1),_vm._v(\" \"),_c('van-slider',{staticStyle:{\"margin\":\"20px 0\"},on:{\"change\":_vm.onChange},model:{value:(_vm.defaultVal),callback:function ($$v) {_vm.defaultVal=$$v},expression:\"defaultVal\"}}),_vm._v(\" \"),_c('van-collapse',{staticStyle:{\"padding-bottom\":\"50px\"},model:{value:(_vm.activeNames),callback:function ($$v) {_vm.activeNames=$$v},expression:\"activeNames\"}},[_c('van-collapse-item',{attrs:{\"title\":\"歌曲列表\",\"name\":\"1\"}},_vm._l((_vm.songList),function(item,index){return _c('van-card',{key:index,class:{activeCard:_vm.precentIndex===index},attrs:{\"desc\":'原唱：'+item.singer,\"title\":item.song,\"thumb\":_vm.songList[index].imginfo},on:{\"click\":function($event){return _vm.clickSong(index)}}})}),1)],1),_vm._v(\" \"),_c('audio',{ref:\"audioRef\",attrs:{\"src\":_vm.precentSong}},[_vm._v(\"\\n    当前浏览器不支持audio\\n  \")]),_vm._v(\" \"),(_vm.isOther)?_c('div',{staticClass:\"backtome\",on:{\"click\":_vm.backtome}},[_vm._v(\"\\n    分享列表\\n    \"),_c('van-icon',{attrs:{\"name\":\"https://b.yzcdn.cn/vant/icon-demo-1126.png\",\"size\":\"30\"}})],1):_vm._e()],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-b11908b4\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/mainPage.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-b11908b4\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./mainPage.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./mainPage.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./mainPage.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-b11908b4\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./mainPage.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-b11908b4\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/mainPage.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}