webpackJsonp([1],{Zrz6:function(t,e){},nUlE:function(t,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=o("Xxa5"),a=o.n(n),r=o("exGp"),s=o.n(r),l={data:function(){return{active:0,show:!1,value:null,list:[]}},mounted:function(){this.handleGetMyTodo()},methods:{handleAddTodo:function(){this.show=!0},handleGetMyTodo:function(){var t=this;return s()(a.a.mark(function e(){var o,n;return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return o=localStorage.getItem("token"),e.next=3,t.$http.getTodoList({token:o});case 3:n=e.sent,console.log(n),n.list.forEach(function(t){return t.todo_status=!!t.todo_status}),t.list=n.list;case 7:case"end":return e.stop()}},e,t)}))()},handleFinishAdd:function(t){var e=this;return s()(a.a.mark(function o(){var n;return a.a.wrap(function(o){for(;;)switch(o.prev=o.next){case 0:if(t){o.next=2;break}return o.abrupt("return",e.$alert("请输入"));case 2:return n=localStorage.getItem("token"),o.next=5,e.$http.postTodo({todo_content:t,token:n});case 5:o.sent,e.$router.go(0);case 7:case"end":return o.stop()}},o,e)}))()},handleSharedTodo:function(t){var e=this;return s()(a.a.mark(function o(){var n,r;return a.a.wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return console.log(t),n=localStorage.getItem("token"),o.next=4,e.$http.sharedMyTodo({todo_id:t,token:n});case 4:r=o.sent,console.log(r),e.$router.go(0);case 7:case"end":return o.stop()}},o,e)}))()},handleDelShare:function(t){var e=this;return s()(a.a.mark(function o(){var n,r;return a.a.wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return console.log(t),n=localStorage.getItem("token"),o.next=4,e.$http.delMyShare({todo_id:t,token:n});case 4:r=o.sent,e.$router.go(0),console.log(r);case 7:case"end":return o.stop()}},o,e)}))()},handleSetTodoStatus:function(t,e){var o=this;return s()(a.a.mark(function n(){var r;return a.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(r=localStorage.getItem("token"),!t){n.next=4;break}return console.log({token:r,todo_id:e}),n.abrupt("return",o.$http.start({token:r,todo_id:e}));case 4:return n.abrupt("return",o.$http.end({token:r,todo_id:e}));case 5:case"end":return n.stop()}},n,o)}))()}}},i={render:function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",[o("el-divider",[o("i",{staticClass:"el-icon-mobile-phone"}),t._v("我的TODO")]),t._v(" "),o("keep-alive",[o("ul",{staticClass:"todo-container"},t._l(t.list,function(e,n){return o("li",{key:e+n},[o("el-card",{staticClass:"box-card"},[o("el-checkbox",{on:{change:function(o){return t.handleSetTodoStatus(e.todo_status,e.todo_id)}},model:{value:e.todo_status,callback:function(o){t.$set(e,"todo_status",o)},expression:"item.todo_status"}}),t._v(" "),o("span",{staticStyle:{"font-size":"14px"}},[t._v(t._s(e.todo_content))]),t._v(" "),e.todo_status?o("van-tag",{attrs:{type:"success"}},[t._v("已完成")]):o("van-tag",[t._v(" 未完成")]),t._v(" "),o("el-button",{directives:[{name:"show",rawName:"v-show",value:n===t.list.length-1,expression:"index===list.length-1"}],staticStyle:{float:"right"},attrs:{type:"success",plain:"",size:"small"},on:{click:t.handleAddTodo}},[t._v("新增\n          ")]),t._v(" "),o("el-button",{directives:[{name:"show",rawName:"v-show",value:!e.todo_shared_status,expression:"!item.todo_shared_status"}],staticStyle:{float:"right"},attrs:{type:"success",size:"small",plain:""},on:{click:function(o){return o.preventDefault(),t.handleSharedTodo(e.todo_id)}}},[t._v("分享\n          ")]),t._v(" "),o("el-button",{directives:[{name:"show",rawName:"v-show",value:e.todo_shared_status,expression:"item.todo_shared_status"}],staticStyle:{float:"right"},attrs:{type:"danger",size:"small",plain:""},on:{click:function(o){return o.preventDefault(),t.handleDelShare(e.todo_id)}}},[t._v("取消分享\n          ")])],1)],1)}),0)]),t._v(" "),o("el-dialog",{attrs:{title:"请输入",visible:t.show},on:{"update:visible":function(e){t.show=e}}},[o("el-card",{staticClass:"box-card"},[o("el-form",{ref:"form",attrs:{"label-width":"80px"}},[o("el-form-item",{attrs:{label:"TODO"}},[o("el-input",{attrs:{placeholder:"请填入Todo"},model:{value:t.value,callback:function(e){t.value=e},expression:"value"}})],1)],1)],1),t._v(" "),o("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[o("el-button",{on:{click:function(e){t.show=!1}}},[t._v("取 消")]),t._v(" "),o("el-button",{attrs:{type:"primary"},on:{click:function(e){return t.handleFinishAdd(t.value)}}},[t._v("确 定")])],1)],1)],1)},staticRenderFns:[]};var c=o("VU/8")(l,i,!1,function(t){o("Zrz6")},null,null);e.default=c.exports}});
//# sourceMappingURL=1.156dadc66ae83dde1067.js.map