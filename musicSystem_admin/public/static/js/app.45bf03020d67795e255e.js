webpackJsonp([4],{"3pLw":function(e,t,n){"use strict";n.d(t,"a",function(){return m}),n.d(t,"b",function(){return p});var a=n("//Fk"),r=n.n(a),o=n("Dd8w"),s=n.n(o),i=n("mtWM"),c=n.n(i),u=n("YaEn"),l=n("Fd2+"),d=c.a.create({timeout:1e4,baseURL:"http://127.0.0.1:3000/api"});d.defaults.headers.post["Content-Type"]="application/x-www-form-urlencoded";d.interceptors.request.use(function(e){return"get"===e.method&&(e.params=s()({},e.params)),e},function(e){return r.a.reject(e)}),d.interceptors.response.use(function(e){return console.log(e),0===e.data.code?(Object(l.b)({message:e.data.msg,type:"success"}),e.data.token&&sessionStorage.setItem("token",e.data.token),r.a.resolve(e.data)):(Object(l.b)({message:e.data.msg,type:"danger"}),r.a.reject(e.data))},function(e){return console.log(u.a.app.$router.replace("/")),r.a.reject(e)});var m=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return new r.a(function(a,r){d(s()({method:"get",url:e,params:t},n)).then(function(e){a(e)}).catch(function(e){r(e)})})},p=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a=sessionStorage.getItem("token")||"";return d(s()({method:"post",url:e,data:s()({token:a},t)},n)).then(function(t){return console.log(e),r.a.resolve(t)}).catch(function(e){return r.a.reject(e)})}},"4ml/":function(e,t){},"7kK6":function(e,t){},NHnr:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n("7+uW"),r={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",{attrs:{id:"app"}},[t("router-view")],1)},staticRenderFns:[]};var o=n("VU/8")({name:"App"},r,!1,function(e){n("pwDe")},null,null).exports,s=n("YaEn"),i=n("3pLw"),c=n("Fd2+");n("4ml/");a.a.config.productionTip=!1,a.a.prototype.$http=i.a,a.a.use(c.c),new a.a({el:"#app",router:s.a,components:{App:o},template:"<App/>"})},YaEn:function(e,t,n){"use strict";var a=n("7+uW"),r=n("/ocq"),o=n("usIs"),s={data:function(){return{username:"",password:"",confirmPass:"",tel:"",active:0}},methods:{Validator:function(){return this.password===this.confirmPass},click:function(){this.$router.replace("/main")},onSubmit:function(e){var t=this;0===this.active?Object(o.f)(this.tel,this.password).then(function(e){console.log(e.code),0===e.code&&t.$router.replace("/main")}):Object(o.g)(this.username,this.password,this.tel).then(function(e){0===e.code&&t.$router.replace("/main")})}},created:function(){}},i={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"login"},[n("van-nav-bar",{attrs:{title:"welcome"}}),e._v(" "),n("van-notice-bar",{attrs:{"left-icon":"volume-o",text:"欢迎来到音乐的世界，快来添加属于你自己的音乐吧！"}}),e._v(" "),n("van-notice-bar",{attrs:{scrollable:"",text:"用户xxx加入了我们"}}),e._v(" "),n("van-notice-bar",{attrs:{scrollable:"",text:"用户xxx加入了我们"}}),e._v(" "),n("van-tabs",{attrs:{type:"card"},model:{value:e.active,callback:function(t){e.active=t},expression:"active"}},[n("van-tab",{attrs:{title:"登录"}},[n("van-form",{on:{submit:e.onSubmit}},[n("van-field",{attrs:{name:"用户名",label:"用户名",placeholder:"用户名",rules:[{required:!0,message:"请填写用户名"}]},model:{value:e.tel,callback:function(t){e.tel=t},expression:"tel"}}),e._v(" "),n("van-field",{attrs:{type:"password",name:"密码",label:"密码",placeholder:"密码",rules:[{required:!0,message:"请填写密码"}]},model:{value:e.password,callback:function(t){e.password=t},expression:"password"}}),e._v(" "),n("div",{staticStyle:{margin:"16px"}},[n("van-button",{attrs:{round:"",block:"",type:"info","native-type":"submit"}},[e._v("提交")])],1)],1)],1),e._v(" "),n("van-tab",{attrs:{title:"注册"}},[n("van-form",{on:{submit:e.onSubmit}},[n("van-field",{attrs:{name:"昵称",label:"用户名",placeholder:"用户名",rules:[{required:!0,message:"请填写用户名"}]},model:{value:e.username,callback:function(t){e.username=t},expression:"username"}}),e._v(" "),n("van-field",{attrs:{type:"tel",name:"手机号",label:"手机号",placeholder:"手机号",rules:[{required:!0,message:"请填写你的手机号"}]},model:{value:e.tel,callback:function(t){e.tel=t},expression:"tel"}}),e._v(" "),n("van-field",{attrs:{type:"password",name:"密码",label:"密码",placeholder:"密码",rules:[{required:!0,message:"请填写密码"}]},model:{value:e.password,callback:function(t){e.password=t},expression:"password"}}),e._v(" "),n("van-field",{attrs:{type:"password",name:"确认密码",label:"确认密码",placeholder:"确认密码",rules:[{required:!0,message:"请确认你的密码",validator:e.Validator}]},model:{value:e.confirmPass,callback:function(t){e.confirmPass=t},expression:"confirmPass"}}),e._v(" "),n("div",{staticStyle:{margin:"16px"}},[n("van-button",{attrs:{round:"",block:"",type:"info","native-type":"submit"}},[e._v("提交")])],1)],1)],1)],1)],1)},staticRenderFns:[]};var c=n("VU/8")(s,i,!1,function(e){n("ah8X")},"data-v-4e26fbb6",null).exports,u=(n("3pLw"),{render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"main-container"},[n("router-view"),e._v(" "),n("van-tabbar",{attrs:{fixed:""},model:{value:e.active,callback:function(t){e.active=t},expression:"active"}},[n("van-tabbar-item",{attrs:{icon:"home-o"},on:{click:function(t){return e.handleChangeRouter("home")}}},[e._v("播放")]),e._v(" "),n("van-tabbar-item",{attrs:{icon:"home-o"},on:{click:function(t){return e.handleChangeRouter("share")}}},[e._v("分享")]),e._v(" "),n("van-tabbar-item",{attrs:{icon:"setting-o"},on:{click:function(t){return e.handleChangeRouter("mine")}}},[e._v("我的")])],1)],1)},staticRenderFns:[]});var l=n("VU/8")({data:function(){return{active:0,songList:[]}},methods:{handleChangeRouter:function(e){this.$router.push({name:e}).catch(function(e){})}}},u,!1,function(e){n("7kK6")},"data-v-e5803a60",null).exports;a.a.use(r.a);t.a=new r.a({routes:[{path:"/",name:"login",component:c},{path:"/main",name:"main",component:l,redirect:{name:"home"},children:[{path:"home",name:"home",component:function(){return n.e(1).then(n.bind(null,"beoU"))}},{path:"mine",name:"mine",component:function(){return n.e(0).then(n.bind(null,"U/b5"))}},{path:"share",name:"share",component:function(){return n.e(2).then(n.bind(null,"Eg0l"))}}]}]})},ah8X:function(e,t){},pwDe:function(e,t){},usIs:function(e,t,n){"use strict";n.d(t,"g",function(){return r}),n.d(t,"f",function(){return o}),n.d(t,"c",function(){return s}),n.d(t,"e",function(){return i}),n.d(t,"a",function(){return c}),n.d(t,"d",function(){return u}),n.d(t,"b",function(){return l});var a=n("3pLw");function r(e,t,n){return Object(a.b)("/user/register",{userName:e,password:t,userPhone:n})}function o(e,t){return Object(a.b)("/user/login",{userPhone:e,password:t})}function s(){return Object(a.b)("/main/current")}function i(){return Object(a.b)("/main/getPublicU")}function c(e){return Object(a.b)("/main/PublicUserSong",{id:e})}function u(e){return Object(a.b)("/user/getProfile")}function l(){return Object(a.b)("/user/changeStatus")}}},["NHnr"]);
//# sourceMappingURL=app.45bf03020d67795e255e.js.map