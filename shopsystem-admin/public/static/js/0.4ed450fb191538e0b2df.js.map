{"version":3,"sources":["webpack:///src/components/Swiper/Swiper.vue","webpack:///./src/components/Swiper/Swiper.vue?2296","webpack:///./src/components/Swiper/Swiper.vue","webpack:///./src/components/Swiper/SwiperItem.vue?8678","webpack:///./src/components/Swiper/SwiperItem.vue","webpack:///src/components/Swiper/SwiperItem.vue","webpack:///src/components/mainPage.vue","webpack:///./src/components/mainPage.vue?ca0d","webpack:///./src/components/mainPage.vue"],"names":["Swiper","name","data","SlideCount","TotalWidth","SwiperStyle","CurrentIndex","Scrolling","firstWidth","document","body","offsetWidth","isResize","props","Interval","type","Number","default","TransitionTime","MoveRatio","ShowIndicator","Boolean","created","mounted","_this2","this","setTimeout","handleDom","startTimer","_this","window","onresize","watch","SwiperEl","querySelector","setTransform","methods","_this3","setTimer","setInterval","startScrolling","stopTimer","clearInterval","SlideEls","getElementsByClassName","length","CloneFirst","cloneNode","CloneLast","insertBefore","appendChild","style","Position","transform","CurrentPosition","transition","checkPosition","_this4","touchStart","ev","startX","touches","pageX","touchMove","currentX","distance","moveDestination","touchEnd","Math","abs","Swiper_Swiper","render","_vm","_h","$createElement","_c","_self","attrs","id","staticClass","on","touchstart","touchmove","touchend","_t","_v","_l","item","index","key","class","indiActive","staticRenderFns","components_Swiper_Swiper","__webpack_require__","normalizeComponent","ssrContext","Swiper_SwiperItem","components_Swiper_SwiperItem","SwiperItem_normalizeComponent","mainPage","components","SwiperItem","active","banners","img","goods","asyncToGenerator_default","regenerator_default","a","mark","_callee","allProducts","wrap","_context","prev","next","$http","getAllProducts","sent","console","log","stop","list","tel","task","isFinish","intoCart","price","_callee2","_context2","addToMyCart","amount","productId","totalPrice","ret","Object","es","message","stock","components_mainPage","staticStyle","width","src","alt","num","desc","product_desc","title","product_name","thumb","image","scopedSlots","_u","fn","plain","_s","proxy","size","click","$event","product_id","mainPage_Component","mainPage_normalizeComponent","__webpack_exports__"],"mappings":"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","file":"static/js/0.4ed450fb191538e0b2df.js","sourcesContent":["<template>\r\n  <div id=\"my-swiper\" >\r\n    <div class=\"swiper\" @touchstart=\"touchStart\" @touchmove=\"touchMove\" @touchend=\"touchEnd\">\r\n    <slot></slot>\r\n    </div>\r\n\r\n    <div class=\"indicator\">\r\n      <div v-for=\"(item,index) in SlideCount\" class=\"indi-item\" :class=\"{indiActive:index===CurrentIndex-1}\" :key=\"index\"></div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\n\r\nexport default {\r\n  name: \"Swiper\",\r\n  data(){\r\n    return{\r\n      SlideCount:0,\r\n      TotalWidth:0,\r\n      SwiperStyle:{},\r\n      CurrentIndex:1,\r\n      Scrolling:false,\r\n      firstWidth:document.body.offsetWidth,\r\n      isResize:false\r\n    }\r\n  },\r\n  props:{\r\n    Interval:{\r\n      type:Number,\r\n      default:3000\r\n    },\r\n    TransitionTime:{\r\n      type:Number,\r\n      default: 400\r\n    },\r\n    MoveRatio:{\r\n      type:Number,\r\n      default:0.25\r\n    },\r\n    ShowIndicator:{\r\n      type:Boolean,\r\n      default:false\r\n    }\r\n  },\r\n  created() {\r\n\r\n  },\r\n  mounted() {\r\n    setTimeout(()=>{\r\n      this.handleDom();\r\n      this.startTimer();\r\n    },300)\r\n    let _this=this;\r\n    window.onresize=function (){\r\n      _this.firstWidth=document.body.offsetWidth;\r\n      }\r\n  },\r\n  watch:{\r\n    firstWidth:function (){\r\n      if(!this.isResize){\r\n        this.isResize=true;\r\n        let _this=this;\r\n        setTimeout(function (){\r\n          let SwiperEl=document.querySelector(\".swiper\");\r\n          _this.TotalWidth=SwiperEl.offsetWidth;\r\n          _this.setTransform(-_this.TotalWidth*_this.CurrentIndex);\r\n          _this.isResize=false;\r\n        },_this.TransitionTime);\r\n      }\r\n    }\r\n  },\r\n  methods:{\r\n    startTimer(){\r\n      this.setTimer=setInterval(()=>{\r\n\r\n        this.CurrentIndex++;\r\n        this.startScrolling(-this.CurrentIndex*this.TotalWidth);\r\n      },this.Interval)\r\n    },\r\n\r\n    stopTimer(){\r\n      clearInterval(this.setTimer);\r\n    },\r\n\r\n    handleDom(){\r\n      let SwiperEl=document.querySelector(\".swiper\");\r\n\r\n      let SlideEls=SwiperEl.getElementsByClassName(\"slide\")\r\n\r\n      this.SlideCount=SlideEls.length;\r\n\r\n      if(this.SlideCount>1){\r\n        let CloneFirst=SlideEls[0].cloneNode(true);\r\n        let CloneLast=SlideEls[this.SlideCount-1].cloneNode(true);\r\n        SwiperEl.insertBefore(CloneLast,SlideEls[0]);\r\n        SwiperEl.appendChild(CloneFirst);\r\n        this.TotalWidth=SwiperEl.offsetWidth;\r\n        this.SwiperStyle=SwiperEl.style;\r\n      }\r\n\r\n\r\n      this.setTransform(-this.TotalWidth);\r\n\r\n    },\r\n\r\n    setTransform(Position){\r\n      // this.SwiperStyle.transform=`translateX(${Position}px)`;\r\n      this.SwiperStyle.transform = `translate3d(${Position}px, 0, 0)`;\r\n      this.SwiperStyle['-webkit-transform'] = `translate3d(${Position}px), 0, 0`;\r\n      this.SwiperStyle['-ms-transform'] = `translate3d(${Position}px), 0, 0`;\r\n    },\r\n\r\n    startScrolling(CurrentPosition){\r\n      this.Scrolling=true;\r\n      // 'transform '+ this.TransitionTime + 'ms'\r\n      this.SwiperStyle.transition=`transform ${this.TransitionTime}ms ease`;\r\n      this.setTransform(CurrentPosition);\r\n\r\n      this.checkPosition();\r\n      this.Scrolling = false;\r\n\r\n    },\r\n\r\n    checkPosition(){\r\n      setTimeout(()=>{\r\n        this.SwiperStyle.transition=\"\";\r\n        if(this.CurrentIndex>=this.SlideCount+1){\r\n          // this.SwiperStyle.transition=\"\";\r\n          this.CurrentIndex=1;\r\n          this.setTransform(-this.CurrentIndex*this.TotalWidth);\r\n        }\r\n        else if(this.CurrentIndex<=0){\r\n          // this.SwiperStyle.transition=\"\";\r\n          this.CurrentIndex=this.SlideCount;\r\n          this.setTransform(-this.CurrentIndex*this.TotalWidth);\r\n        }\r\n      },this.TransitionTime)\r\n    },\r\n\r\n    touchStart(ev){\r\n      if(this.Scrolling)\r\n        return;\r\n      this.stopTimer();\r\n      this.startX=ev.touches[0].pageX;\r\n    },\r\n\r\n    touchMove(ev){\r\n\r\n      this.currentX=ev.touches[0].pageX;\r\n      this.distance=this.currentX-this.startX;\r\n\r\n      let currentPosition=-this.CurrentIndex*this.TotalWidth;\r\n      let moveDestination=currentPosition+this.distance;\r\n\r\n      this.setTransform(moveDestination);\r\n    },\r\n    touchEnd(ev){\r\n      let distance=Math.abs(this.distance);\r\n\r\n      if(distance===0){\r\n        return;\r\n      }\r\n      else if(this.distance > 0 && distance > this.TotalWidth * this.MoveRatio){\r\n        this.CurrentIndex--;\r\n      }\r\n      else if(this.distance < 0 && distance > this.TotalWidth * this.MoveRatio){\r\n        this.CurrentIndex++;\r\n      }\r\n\r\n      this.startScrolling(-this.CurrentIndex * this.TotalWidth);\r\n\r\n      this.startTimer();\r\n\r\n    }\r\n\r\n  }\r\n\r\n//待优化问题：1.设置的Scrolling属性没有起到实际作用\r\n//2.问题1导致的触摸事件快速发生时，第一次手动切换轮播图时的timeout中设置过渡时间为0在第二次手动切换的过渡时间内发生，\r\n//导致过渡到一半直接结束动画了。\r\n//3.pc复用未解决\r\n}\r\n\r\n</script>\r\n\r\n<style scoped>\r\n#my-swiper{\r\n  overflow: hidden;\r\n  position: relative;\r\n}\r\n\r\n.swiper{\r\n  display: flex;\r\n}\r\n\r\n.indicator{\r\n  position: absolute;\r\n  bottom: 5px;\r\n  left: 0px;\r\n  right: 0px;\r\n  display: flex;\r\n  justify-content: center;\r\n\r\n}\r\n.indi-item{\r\n  height: 10px;\r\n  width: 10px;\r\n  border-radius: 5px;\r\n  background-color: rgba(100,100,100,.4);\r\n  margin: 0 5px;\r\n}\r\n\r\n.indiActive{\r\n  background-color: rgba(100,100,100,.9);\r\n}\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/components/Swiper/Swiper.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"my-swiper\"}},[_c('div',{staticClass:\"swiper\",on:{\"touchstart\":_vm.touchStart,\"touchmove\":_vm.touchMove,\"touchend\":_vm.touchEnd}},[_vm._t(\"default\")],2),_vm._v(\" \"),_c('div',{staticClass:\"indicator\"},_vm._l((_vm.SlideCount),function(item,index){return _c('div',{key:index,staticClass:\"indi-item\",class:{indiActive:index===_vm.CurrentIndex-1}})}),0)])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-4c9b3244\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/Swiper/Swiper.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-4c9b3244\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./Swiper.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./Swiper.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./Swiper.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-4c9b3244\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./Swiper.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-4c9b3244\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/Swiper/Swiper.vue\n// module id = null\n// module chunks = ","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"slide\"},[_vm._t(\"default\")],2)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-304045c3\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/Swiper/SwiperItem.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-304045c3\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./SwiperItem.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./SwiperItem.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./SwiperItem.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-304045c3\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./SwiperItem.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-304045c3\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/Swiper/SwiperItem.vue\n// module id = null\n// module chunks = ","<template>\r\n  <div class=\"slide\">\r\n    <slot></slot>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  name: \"SwiperItem\"\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n\r\n.slide{\r\n  width: 100%;\r\n  flex-shrink: 0;\r\n}\r\n\r\n.slide img{\r\n  width: 100%;\r\n  vertical-align: bottom;\r\n}\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/components/Swiper/SwiperItem.vue","<template>\n  <div>\n    <van-sticky>\n      <van-button type=\"danger\" style=\"width: 100%\">商品推荐</van-button>\n    </van-sticky>\n    <swiper>\n      <swiper-item v-for=\"(item, index) in banners\" :key=\"index\">\n        <img :src=\"item.img\" alt=\"\"/>\n      </swiper-item>\n    </swiper>\n\n    <van-card\n      :num=\"item.stock + ' 剩余储量'\"\n      :price=\"item.price\"\n      :desc=\"item.product_desc\"\n      :title=\"item.product_name\"\n      :thumb=\"item.image\"\n      v-for=\"(item, index) in goods\"\n      :key=\"index\"\n    >\n      <template #tags>\n        <van-tag\n          plain\n          type=\"danger\"\n          v-for=\"(item, index) in item.keyWord\"\n          :key=\"index\"\n          >{{ item }}</van-tag\n        >\n      </template>\n\n      <template #footer>\n        <van-button size=\"mini\" @click=\"intoCart(item.product_id, item.price,index)\"\n          >加入购物车</van-button\n        >\n      </template>\n    </van-card>\n  </div>\n</template>\n<script>\nimport { Swiper, SwiperItem } from \"./Swiper/useSwiper\";\nimport { get } from \"../utils/http\"\nimport {Notify} from \"vant\";\n\nexport default {\n  components: {\n    Swiper,\n    SwiperItem,\n  },\n  data() {\n    return {\n      active: 0,\n      banners: [{img: 'https://tse2-mm.cn.bing.net/th/id/OIP.wzzaurqikEdc67s1MQ0wegHaGo?w=188&h=180&c=7&o=5&dpr=1.25&pid=1.7'},{img: 'https://tse2-mm.cn.bing.net/th/id/OIP.wzzaurqikEdc67s1MQ0wegHaGo?w=188&h=180&c=7&o=5&dpr=1.25&pid=1.7'}],\n      goods: [],\n    };\n  },\n  async created() {\n    let allProducts = await this.$http.getAllProducts();\n\n    this.goods = allProducts.data;\n    console.log(this.goods)\n  },\n  props: {\n    list: {\n      default() {\n        return [\n          {\n            id: \"1\",\n            name: \"张三\",\n            tel: \"13000000000\",\n            task: \"拯救世界\",\n            isFinish: true,\n          },\n          {\n            id: \"2\",\n            name: \"小四\",\n            tel: \"12930\",\n            task: \"获得吉尼斯纪录\",\n            isFinish: false,\n          },\n        ];\n      },\n    },\n  },\n  methods: {\n    async intoCart(id, price,index) {\n      let res = await this.$http.addToMyCart({amount: 1, productId: id, totalPrice: 1 * price, price: price});\n      if (res.ret === 0) {\n        Notify({type: 'success', message:'加入购物车成功'});\n      }\n      this.goods[index].stock -= 1;\n      // let cartArr = JSON.parse(sessionStorage.getItem(\"cartGoods\")) || [];\n      // console.log(cartArr);\n      // let index = this.goods.findIndex((value) => value.id === id);\n      // let cartIndex = cartArr.findIndex((value) => value.id === id);\n      // if (cartIndex === -1) {\n      //   cartArr.push({\n      //     goodNum: 1,\n      //     ...this.goods[index],\n      //   });\n      // } else {\n      //   cartArr[cartIndex].goodNum++;\n      // }\n\n      // sessionStorage.setItem(\"cartGoods\", JSON.stringify(cartArr));\n    },\n  },\n};\n</script>\n<style scoped>\n.todo-container li {\n  border: solid 1px white;\n  background-color: beige;\n  margin-top: 1em;\n  padding: 0.2em;\n}\n.main {\n  font-size: 0.7em;\n}\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/components/mainPage.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('van-sticky',[_c('van-button',{staticStyle:{\"width\":\"100%\"},attrs:{\"type\":\"danger\"}},[_vm._v(\"商品推荐\")])],1),_vm._v(\" \"),_c('swiper',_vm._l((_vm.banners),function(item,index){return _c('swiper-item',{key:index},[_c('img',{attrs:{\"src\":item.img,\"alt\":\"\"}})])}),1),_vm._v(\" \"),_vm._l((_vm.goods),function(item,index){return _c('van-card',{key:index,attrs:{\"num\":item.stock + ' 剩余储量',\"price\":item.price,\"desc\":item.product_desc,\"title\":item.product_name,\"thumb\":item.image},scopedSlots:_vm._u([{key:\"tags\",fn:function(){return _vm._l((item.keyWord),function(item,index){return _c('van-tag',{key:index,attrs:{\"plain\":\"\",\"type\":\"danger\"}},[_vm._v(_vm._s(item))])})},proxy:true},{key:\"footer\",fn:function(){return [_c('van-button',{attrs:{\"size\":\"mini\"},on:{\"click\":function($event){return _vm.intoCart(item.product_id, item.price,index)}}},[_vm._v(\"加入购物车\")])]},proxy:true}],null,true)})})],2)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-766d1cff\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/mainPage.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-766d1cff\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./mainPage.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./mainPage.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./mainPage.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-766d1cff\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./mainPage.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-766d1cff\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/mainPage.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}